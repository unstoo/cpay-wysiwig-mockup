"use strict";$(function(){var e={},r=function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",o=32;o>0;o-=1)r+=e[Math.floor(Math.random()*e.length)];return r},o=$("body").data().homePath||"";1!==o.length&&"undefined"!==o||(o=""),o=o.replace(/\/l\/\w+/gi,"");var n=$("body").data("articleId"),a=$("body").data("categoryId"),t=$("body").data("searchTerm"),d=$("body").data("languageCode"),i=window.location.hostname.indexOf("helpdocs.io")>-1?"subdomain":"custom_domain",c=Cookies.get("_hdu"),s=Cookies.get("_hds"),u=new Date,l=new Date(u.getTime()+18e5),h=new Date(u.getTime()+31536e6),f=c||"hdu_"+r(),_=s||"hds_"+r();""!==n&&"undefined"!==n||(n=void 0),""!==a&&"undefined"!==a||(a=void 0),""!==t&&"undefined"!==t||(t=void 0),""!==d&&"undefined"!==d||(d=void 0),Cookies.set("_hdu",f,{expires:h}),Cookies.set("_hds",_,{expires:l}),e.trackView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;$.ajax({method:"GET",url:o+"/analytics/track",data:{article_id:r,category_id:e,search_term:t,language_code:d,user_token:f,session_token:_,page:window.location.href,referrer:document.referrer,data_source:i}})},e.trackView(),e.tokens=function(){return{user:f,session:_}},e.leaveFeedback=function(e){return $.ajax({method:"POST",url:o+"/analytics/feedback",data:{article_id:n,category_id:a,sentiment:e,language_code:d,user_token:f,session_token:_,page:window.location.href,referrer:document.referrer,data_source:i}}).success(console.log).error(console.log)},e.recordSearch=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return $.ajax({method:"POST",url:o+"/analytics/search",data:{search_term:e,language_code:d,user_token:f,session_token:_,page:window.location.href,referrer:document.referrer,data_source:i}}).success(function(e){return r(null,e)}).error(r)},e.recordSearchWithHits=function(e,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return $.ajax({method:"POST",url:o+"/analytics/search",data:{search_term:e,original_search_term:n,result_count:r,language_code:d,user_token:f,session_token:_,page:window.location.href,referrer:document.referrer,data_source:i}}).success(function(e){return a(null,e)}).error(a)},e.recordSearchClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return $.ajax({method:"POST",url:o+"/analytics/search",data:{search_term:e,article_id:r,language_code:d,user_token:f,session_token:_,page:window.location.href,referrer:document.referrer,data_source:i}}).success(function(e){return n(null,e)}).error(n)},window.HDAnalytics=e});